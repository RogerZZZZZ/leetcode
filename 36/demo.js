/**
 * @param {character[][]} board
 * @return {boolean}
 */
var isValidSudoku = function (board) {
  const columnMap = new Map([
    [0, ''],
    [1, ''],
    [2, ''],
    [3, ''],
    [4, ''],
    [5, ''],
    [6, ''],
    [7, ''],
    [8, ''],
  ]);

  const boxes = [[],[],[],[],[],[],[],[],[]];

  for (let i = 0; i < 9; i++) {
    let line = '';
    for (let j = 0; j < 9; j++) {
      const t = board[i][j];
      if (t === '.') continue;
      if (line.indexOf(t) > -1) {
        return false;
      }
      line += t;
      const column = columnMap.get(j);
      if (column.indexOf(t) > -1) {
        return false;
      }
      columnMap.set(j, column + t);

      // 3 x 3
      const boxIndex = Math.floor(i / 3) * 3 + Math.floor(j / 3);
      if (!boxes[boxIndex].includes(t)) {
        boxes[boxIndex].push(t);
      } else {
        console.log(1)
        return false;
      }
    }
  }
  return true;
};


console.log(isValidSudoku([["5","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]));

console.log(isValidSudoku([[".",".",".",".","5",".",".","1","."],[".","4",".","3",".",".",".",".","."],[".",".",".",".",".","3",".",".","1"],["8",".",".",".",".",".",".","2","."],[".",".","2",".","7",".",".",".","."],[".","1","5",".",".",".",".",".","."],[".",".",".",".",".","2",".",".","."],[".","2",".","9",".",".",".",".","."],[".",".","4",".",".",".",".",".","."]]))